#! /sbin/openrc-run

name="ly"
description="TUI Display Manager"

supervisor=supervise-daemon
respawn_period=60
pidfile=/run/"${RC_SVCNAME}.pid"

# tty to spawn ly in
## Make sure this corresponds with the tty in /etc/ly/config.ini
TTY=tty7
TERM=linux
BAUD=38400
command="/sbin/agetty"
command_args_foreground="-nl /usr/bin/ty ${TTY} ${BAUD} ${TERM}"

depend() {
         after agetty
         provide display-manager
         want elogind
}
